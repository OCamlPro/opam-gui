<!doctype html>
<html>
  <head>
    <title>%{project_name}</title>
    <meta charset="utf-8">

    <!-- css -->
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="/css/bootstrap-vue.min.css"/>
    <link type="text/css" rel="stylesheet" href="/css/main.css"/>

    <!-- <style> -->
    <!--   div { border: 1px solid red; } -->
    <!-- </style> -->

    <!-- Loaded scripts -->
    <script src="/js/vue.js"></script>
    <script src="/js/bootstrap-vue.min.js"></script>
    <script src="/js/bootstrap-vue-icons.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js" defer></script>

    <script src="%{project_name}-ui.js" defer></script>
  </head>
  <body class="bg-light text-dark">
    <div id="app-loading"></div>
    <div id="app" style="display:none">

      <!-- Navbar -->
      <b-navbar toggleable="md" type="light" variant="light">
        <b-navbar-brand @click="route('')">%{project_name}</b-navbar-brand>
        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>
        <b-collapse id="nav-collapse" is-nav>
          <b-navbar-nav>
          </b-navbar-nav>
          <b-navbar-nav class="ml-auto">
            <b-nav-item @click="route('api')" :active="path=='api'" class="mx-2">
              API
            </b-nav-item>
          </b-navbar-nav>
        </b-collapse>
      </b-navbar>

      <!-- API doc -->
      <b-container fluid v-if="path=='api'" class="bg-light h-100 p-0">
        <div id="redoc">
        </div>
      </b-container>


      <!-- Home / Switches -->
      <b-container fluid v-if="path==''">
        <b-row>

          <!-- Left column -->
          <b-col>

            <!-- Top line -->
            <b-row>
              <b-col>
                <span>List of your switches</span>
                <b-table sticky-header small hover
                         selectable no-select-on-click :items="switches"
                         :fields="[{ key:'current', label:'',
                                     thStyle:'width: max-content'},
                                   { key:'name', thStyle:'width:100%'}]">

                  <template v-slot:cell(current)="row">

                    <template v-if="row.value">
                      <span aria-hidden="true">&check;</span>
                      <span class="sr-only">Selected</span>
                    </template>
                    <template v-else>
                      <span aria-hidden="true">&nbsp;</span>
                      <span class="sr-only">Not selected</span>
                    </template>

                  </template>

                </b-table>

              </b-col>
            </b-row>

            <!-- Bottom line -->
            <b-row>
              <b-col>
                <span>Packages for the current switch</span>
                <b-table sticky-header small hover :items="packages"
                         :fields="[{ key:'installed', label:'',
                                     thStyle:'width: max-content'},
                                   { key:'name', thStyle:'width:100%'}]">

                  <!-- <template v-slot:head(installed)="row">&nbsp;</template> -->

                  <template v-slot:cell(installed)="row">
                    <b-form-checkbox v-model="row.value">
                    </b-form-checkbox>
                  </template>

                </b-table>
              </b-col>
            </b-row>
          </b-col>

          <!-- Right column -->
          <b-col cols="4">
            <span>Commands</span>
          </b-col>
        </b-row>
      </b-container>


    </div>
  </body>
</html>
